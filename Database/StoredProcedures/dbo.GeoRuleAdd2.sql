/*
Script generated by Aqua Data Studio 8.0.2 on Jan-15-2010 01:50:27 PM
Database: TrackerPal
Schema: <All Schemas>
Objects: PROCEDURE
*/
CREATE PROCEDURE [GeoRuleAdd2]

	@GeoRuleID					INT OUTPUT,
	@GeoRuleName				NVARCHAR(50),
	@GeoRuleShapeID			INT,	
	@GeoRuleTypeID				INT,
	@GeoRuleReferencePointID	INT,
	@GeoRuleScheduleID			INT,
	@Longitude					FLOAT,
	@Latitude					FLOAT,
	@Radius						INT,
	@Width						FLOAT,
	@Height						FLOAT,
	@Rotation					INT,
	@Longitudes				VARCHAR(2550),
	@Latitudes					VARCHAR(2550),
	@AlarmInstructions		NVARCHAR(2000),
	@CreatedByID				INT,
	@ModifiedByID				INT
AS

	INSERT INTO GeoRule
	  (
	   GeoRuleName, 
	   GeoRuleShapeID, 
	   GeoRuleTypeID, 
	   GeoRuleReferencePointID, 
	   GeoRuleScheduleID,
	   Longitude, 
	   Latitude, 
	   Radius, 
	   Width, 
	   Height, 
	   Rotation, 
	   Longitudes, 
	   Latitudes, 
	   AlarmInstructions, 
	   CreatedByID, 
	   ModifiedByID, 
	   StatusID, 
	   UpdateInProgress
	  )
	VALUES
	  (
	   @GeoRuleName, 
	   @GeoRuleShapeID, 
	   @GeoRuleTypeID, 
	   @GeoRuleReferencePointID, 
	   @GeoRuleScheduleID,
	   @Longitude, 
	   @Latitude, 
	   @Radius, 
	   @Width,
	   @Height, 
	   @Rotation, 
	   @Longitudes, 
	   @Latitudes, 
	   '', 
	   @CreatedByID, 
	   @ModifiedByID, 2, 0
	  )

	SET @GeoRuleID = @@IDENTITY

GO
GRANT EXECUTE ON [GeoRuleAdd2] TO [db_dml]
GO
