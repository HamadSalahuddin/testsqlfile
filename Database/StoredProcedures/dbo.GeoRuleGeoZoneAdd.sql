/*
Script generated by Aqua Data Studio 8.0.2 on Jan-15-2010 01:50:27 PM
Database: TrackerPal
Schema: <All Schemas>
Objects: PROCEDURE
*/
-- =============================================
-- Author:		Sajid Abbasi
-- Create date: 07-Dec-2009
-- Description:	This procedure adds a geozone for library geo rule. 
-- =============================================
CREATE PROCEDURE [GeoRuleGeoZoneAdd]
	
	@GeoRuleGeoZoneID  int OUTPUT, 
	@GeoRuleReferencePointID int,
    @GeoRuleShapeID int,  
    @Longitude float, 
    @Latitude float, 
	@Longitudes varchar(5000), 
	@Latitudes varchar(5000), 
	@Radius int,
	@Width float, 
	@Height float, 
	@Rotation int
AS
BEGIN
	SET NOCOUNT ON;
    INSERT INTO GeoRuleGeoZone(
                    GeoRuleReferencePointID,
				    GeoRuleShapeID,  
				    Longitude, 
				    Latitude, 
				    Longitudes, 
				    Latitudes, 
				    Radius,
				    Width, 
				    Height, 
				    Rotation
				)
	VALUES(
	    @GeoRuleReferencePointID,
        @GeoRuleShapeID, 
        @Longitude, 
        @Latitude, 
	    @Longitudes, 
	    @Latitudes, 
	    @Radius,
	    @Width, 
	    @Height, 
	    @Rotation
	)

    SET @GeoRuleGeoZoneID = @@IDENTITY
END

GO
GRANT EXECUTE ON [GeoRuleGeoZoneAdd] TO [db_dml]
GO
