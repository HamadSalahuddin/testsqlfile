/*
Script generated by Aqua Data Studio 8.0.2 on Jan-15-2010 01:50:28 PM
Database: TrackerPal
Schema: <All Schemas>
Objects: PROCEDURE
*/
CREATE PROCEDURE [TrackerAssignmentUnassign]
	@TrackerAssignmentID	INT OUTPUT,
	@TrackerID	INT,
	@OffenderID INT,
	@SupervisionOfficerID INT,
	@AssignmentDate DateTime, -- DEPRECATED
	@TrackerAssignmentTypeID INT,
	@CreatedByID	INT
	
AS

	INSERT INTO TrackerAssignment(
		TrackerID,
		OffenderID,
		SupervisionOfficerID,
		AssignmentDate,
		TrackerAssignmentTypeID,
		CreatedBy, 
		CreatedDate
	)
	VALUES(
		@TrackerID, 
		@OffenderID, 
		@SupervisionOfficerID, 
		GETDATE(), 
		@TrackerAssignmentTypeID,
		@CreatedByID, 
		GETDATE()
	)

	SET @TrackerAssignmentID = @@IDENTITY
GO
GRANT VIEW DEFINITION ON [TrackerAssignmentUnassign] TO [db_object_def_viewers]
GO
GRANT EXECUTE ON [TrackerAssignmentUnassign] TO [db_dml]
GO
