/*
Script generated by Aqua Data Studio 8.0.2 on Jan-15-2010 01:50:27 PM
Database: TrackerPal
Schema: <All Schemas>
Objects: PROCEDURE
*/
CREATE PROCEDURE [GeoRuleAdd]

	@GeoRuleID					INT OUTPUT,
	@GeoRuleName				NVARCHAR(50),
	@GeoRuleShapeID				INT,	
	@GeoRuleTypeID				INT,
	@GeoRuleReferencePointID	INT,
	@GeoRuleScheduleID			INT,
	@Longitude					FLOAT,
	@Latitude					FLOAT,
	@Radius						INT,
	@Width						FLOAT,
	@Height						FLOAT,
	@Longitudes					VARCHAR(2550),
	@Latitudes					VARCHAR(2550),
	@AlarmInstructions			NVARCHAR(2000),
	@CreatedByID				INT,
	@ModifiedByID				INT


AS

	INSERT INTO GeoRule
	(GeoRuleName, GeoRuleShapeID, GeoRuleTypeID, GeoRuleReferencePointID, GeoRuleScheduleID,
	 Longitude, Latitude, Radius, Width, Height, Longitudes, Latitudes, AlarmInstructions, 
	 CreatedByID, ModifiedByID, UpdateInProgress)
	VALUES
	(@GeoRuleName, @GeoRuleShapeID, @GeoRuleTypeID, @GeoRuleReferencePointID, @GeoRuleScheduleID,
	 @Longitude, @Latitude, @Radius, @Width, @Height, @Longitudes, @Latitudes, @AlarmInstructions, 
	 @CreatedByID, @ModifiedByID, 1)

	SET @GeoRuleID = @@IDENTITY
GO
GRANT VIEW DEFINITION ON [GeoRuleAdd] TO [db_object_def_viewers]
GO
GRANT EXECUTE ON [GeoRuleAdd] TO [db_dml]
GO
