/*
Script generated by Aqua Data Studio 8.0.2 on Jan-15-2010 01:50:27 PM
Database: TrackerPal
Schema: <All Schemas>
Objects: PROCEDURE
*/
CREATE PROCEDURE [OfficerGetAllCustomers]

	@AgencyID	INT

AS

		SELECT	o.OfficerID, 
				ISNULL(o.LastName + ', ', '') + ISNULL(o.FirstName, '') AS 'OfficerName'
		FROM	Officer o (NOLOCK)
		WHERE o.Deleted = '0'and 
		(
			(@AgencyID<0)
			or
			(o.AgencyID = @AgencyID)
		)
		and OfficerID not in (select id from accounting where customertype=2)
		ORDER BY o.LastName, o.FirstName







GO
GRANT VIEW DEFINITION ON [OfficerGetAllCustomers] TO [db_object_def_viewers]
GO
GRANT EXECUTE ON [OfficerGetAllCustomers] TO [db_dml]
GO
