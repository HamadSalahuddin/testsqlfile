/*
Script generated by Aqua Data Studio 8.0.2 on Jan-15-2010 01:50:27 PM
Database: TrackerPal
Schema: <All Schemas>
Objects: PROCEDURE
*/
CREATE PROCEDURE [GeoRuleGetAllByOfficerID]

	@OfficerID					INT,
	@OfficerGeoRuleCategoryID	INT

AS

	IF @OfficerID = 0
	BEGIN
		SELECT	GeoRuleID, GeoRuleName
		FROM	GeoRule
		WHERE	GeoRuleTypeID = @OfficerGeoRuleCategoryID
		ORDER BY GeoRuleName
	END
	ELSE
	BEGIN
		SELECT	g.GeoRuleID, g.GeoRuleName
		FROM	GeoRule g
		INNER JOIN GeoRule_Officer o ON g.GeoRuleID = o.GeoRuleID
		WHERE	o.OfficerID = @OfficerID AND
				g.GeoRuleTypeID = @OfficerGeoRuleCategoryID
		ORDER BY g.GeoRuleName
	END
GO
GRANT EXECUTE ON [GeoRuleGetAllByOfficerID] TO [db_dml]
GO
GRANT VIEW DEFINITION ON [GeoRuleGetAllByOfficerID] TO [db_object_def_viewers]
GO
